<div class="relative flex flex-col flex-nowrap">
  @for (song of album().songs; track song; let i = $index) {
    <div
      class="flex flex-row flex-nowrap items-center gap-2 rounded-md p-1 hover:bg-slate-50"
    >
      <div class="w-6 text-center text-slate-700">{{ i + 1 }}</div>
      <div class="h-6 w-0.5 bg-slate-200"></div>
      <div class="grow text-slate-700">
        {{ song.title }}
      </div>
      <div class="flex flex-row gap-2">
        <!-- TODO functionality -->
        <button
          class="btn rounded-full p-1 font-bold text-slate-600 hover:text-slate-400"
          aria-label="Add to saved playlist"
          title="Add to saved playlist"
          (click)="openAddToPlaylistModal(song)"
        >
          <app-icon-user-playlist-add class="size-5" />
        </button>
        <button
          class="btn rounded-full font-bold text-slate-600 hover:text-slate-400"
          aria-label="Add to playlist"
          (click)="addSongToPlaylist(song.id)"
        >
          <app-icon-playlist-add class="size-5" />
        </button>
      </div>
    </div>
  }
</div>

@if (showAddToPlaylistModal()) {
  <app-add-to-playlist-modal
    [song]="currentSong()!"
    [playlists]="playlists()"
    (modalClosed)="closeAddToPlaylistModal()"
  ></app-add-to-playlist-modal>
}
